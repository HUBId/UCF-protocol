syntax = "proto3";

package ucf.v1;

import "ucf/v1/common.proto";

enum ConsistencyLevel {
  CONSISTENCY_LEVEL_UNSPECIFIED = 0;
  CONSISTENCY_LEVEL_LOW = 1;
  CONSISTENCY_LEVEL_MEDIUM = 2;
  CONSISTENCY_LEVEL_HIGH = 3;
}

message StateComponent {
  string name = 1;
  double value = 2;
  string unit = 3;
}

message SelfStateVector {
  string self_id = 1;
  uint64 revision = 2;
  repeated StateComponent components = 3;
}

message RecursiveSelfState {
  SelfStateVector current = 1;
  repeated SelfStateVector ancestry = 2;
  ConsistencyFeedback feedback = 3;
}

message ConsistencyFeedback {
  ConsistencyLevel level = 1;
  ReasonCodes reason_codes = 2;
  string summary = 3;
}
